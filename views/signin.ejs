<!DOCTYPE>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>방방</title>
    <link rel="icon" href="images/customfavicon.png">

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <style type="text/css">
      @font-face {
        font-family: "godob";
        src: url(fonts/GodoB.ttf);
      }

      #navId{
        background-color: #ffffff;
      }
      li{
        font-family: godob;
      }

      .tester{
        width: 95%;
        padding: 12px 24px;
        transition: transform 250ms ease-in-out;
        font-size: 20px;
        line-height: 18px;
        color: #575756;
        background-color: transparent;
        background-repeat: no-repeat;
        background-size: 18px 18px;
        background-position: 95% center;
        border: none;
        font-family: godob;
        transition: all 250ms ease-in-out;
        backface-visibility: hidden;
        transform-style: preserve-3d;
      }
      textarea:focus{
        outline:none;
      }
      input:focus{
        outline:none;
      }

    </style>
  </head>

  <body>

    <!-- Fixed navbar -->
    <nav id="navId" class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><img style="cursor: pointer;" src="images/mainPic.png" onclick="location.href='main'"></li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li style="font-size: 15px;"><a href="roomdetail" style="color: black;">Search</a></li>
            <li style="font-size: 15px; "><a href="release" style="color: black;">Release</a></li>
            <li style="font-size: 15px; "><a href="roomate" style="color: black;">Roommates</a></li>
            <li style="font-size: 15px; "><a href="community" style="color: black;">Community</a></li>
            <li style="font-size: 15px; "><a href="notice" style="color: black;">Notice</a></li>
            <li id="logN1" style="font-size: 15px;"><a href="signup" style="color:lightgrey;">Sign up</a></li>
            <li id="logN2" style="font-size: 15px;"><a href="signin" style="color:red;">Sign in</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron" style=" background-color: #ffffff; margin-top: 50px; ">

          <div style="height: 80px;  display: flex; justify-content: center;">
            <p style="font-family: godob; font-size: 35px;">로그인</p> 
          </div>

          <div style="width: 100%; height: 650px; font-family: godob; margin-top: 40px;">

            <div style="width: 50%; height: 12%; border-width: 2px; border-style: solid; border-color: #e7e7e7; border-radius: 25px; margin-left: 250px; display: table;">
              <input id="inputId" class="tester" style="margin-top: 15px;" type="text" placeholder="아이디">
            </div>
            
            <div style="width: 50%; height: 12%; border-width: 2px; border-style: solid; border-color: #e7e7e7;margin-top: 10px;border-radius: 25px; margin-left: 250px;">
              <input id="inputPw" class="tester" style="margin-top: 15px;" type="password" placeholder="비밀번호">
            </div>
            <div id="loginBtn" style="width: 50%; height: 12%; background-color: #016740; margin-top: 10px;border-radius: 25px; margin-left: 250px; display: table; cursor: pointer;">
              <p style="font-size: 28px; color:#ffffff;display:table-cell;text-align: center; vertical-align: middle;">로 그 인</p>
            </div>
            
          </div>
          
        </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/userData.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.2.0/firebase.js"></script>
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyAMU16rmeFg48C43ZZ-8Q3u0RXdeTVrjJI",
        authDomain: "bangtest-b99fd.firebaseapp.com",
        databaseURL: "https://bangtest-b99fd-default-rtdb.firebaseio.com/",
        projectId: "bangtest-b99fd",
        storageBucket: "bangtest-b99fd.appspot.com",
        messagingSenderId: "329670175742",
        appId: "1:329670175742:web:0b24674eafc4e0f0352eaf"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      var database = firebase.database();
    </script>

    <script type="text/javascript">
    
      $(document).ready(function(){
        
        $("#btnId1,#btnId2,#btnId3,#btnId4").on("click", function(){
          $("#btnId1,#btnId2,#btnId3,#btnId4").css("background-color","#ffffff");
          $("#btnId1,#btnId2,#btnId3,#btnId4").css("color","#000000");

          $(this).css("background-color", "#016740")
          $(this).css("color", "#ffffff")
        });

        $("#btnId11,#btnId22,#btnId33").on("click", function(){
          $("#btnId11,#btnId22,#btnId33").css("background-color","#ffffff");
          $("#btnId11,#btnId22,#btnId33").css("color","#000000");

          $(this).css("background-color", "#016740")
          $(this).css("color", "#ffffff")
        });

        $("#starId1,#starId2,#starId3,#starId4,#starId5").on("click", function(e){
          $("#starId1,#starId2,#starId3,#starId4,#starId5").text("☆");
 
          for(var i = 0 ;  i < $(this).attr("id").substring(6); i++){
            $("#starId"+(i+1)).text("★");
          }
          
        });

        
        $("#loginBtn").on("click", function(){
          //validation check
          if($("#inputId").val().trim() == "" || $("#inputPw").val().trim() == ""){
            alert("아이디 및 비밀번호를 입력해주세요");
            $("#inputId").val().trim() == "" ? $("#inputId").focus() : $("#inputPw").focus() ; 
            return;
          }

          var userId_p = $("#inputId").val().trim();
          var userPw_p = $("#inputPw").val().trim();
          database.ref("user").on("value", function(snap){
            var tempData = snap.val();

            for(var i = 0 ; i < tempData.length ; i++){
              if(tempData[i].id == userId_p && tempData[i].pw == userPw_p){
                localStorage = userId_p;
                location.href = "main";
                return;
              }
            }

            alert("일치하는 회원정보가 없습니다.")
            
          })


        });

        $("#inputId, #inputPw").on("keydown", function(e){
          $(this).val($(this).val().replace(/[^\\!-z]/gi, "")) ;
        });
        

      });

    </script>

  </body>
</html>
